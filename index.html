<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/all.min.css">
    <link href="css/style.css" rel="stylesheet">
    <title>Hello, world!</title>
  </head>
  <body>

    <div class='dashboard'>
      <div class="dashboard-nav">
          <header><a href="#!" class="menu-toggle"><i class="fas fa-bars"></i></a><a href="#"
                                                                                     class="brand-logo"><i
                  class="fas fa-anchor"></i> <span>Menu</span></a></header>
          <nav class="dashboard-nav-list">
              <a href="#" class="dashboard-nav-item active">Home</a>
              <a href="unar.html" class="dashboard-nav-item">Unar</a>
              <a href="binar.html" class="dashboard-nav-item">Binar</a>
              <a href="ternar.html" class="dashboard-nav-item">Ternar</a>
              <a href="cuternar.html" class="dashboard-nav-item">Cuaternar</a>
              <a href="cvinariu.html" class="dashboard-nav-item">Cvinariu</a>
              <a href="senar.html" class="dashboard-nav-item">Senar</a>
              <a href="octal.html" class="dashboard-nav-item">Octal</a>
              <a href="zecimal.html" class="dashboard-nav-item">Zecimal</a>
              <a href="duodecimal.html" class="dashboard-nav-item">Duodecimal</a>
              <a href="hexazecimal.html" class="dashboard-nav-item">Hexazecimal</a>
              <a href="vigesimal.html" class="dashboard-nav-item">Vigesimal</a>
              <a href="hexatrigesimal.html" class="dashboard-nav-item">Hexatrigesimal</a>
              <a href="sexagesimal.html" class="dashboard-nav-item">Sexagesimal</a>
            
          </nav>
      </div>
      <div class='dashboard-app'>
          <header class='dashboard-toolbar'><a href="#!" class="menu-toggle"><i class="fas fa-bars"></i></a></header>
          <div class='dashboard-content'>
              <div class='container' id="gabi1">
                  <div class='card'>
                      <div class='card-header'>
                          <h1>Sistem de numerație</h1>
                      </div>
                      <div class='card-body'>
                          <p>
                            Un sistem de numerație este un sistem lingvistic și un mod de notație matematică pentru reprezentarea numerelor folosind în mod coerent un set de simboluri (cifre). În funcție de tipul sistemului, notația „11” poate fi interpretată ca doi (într-un sistem unar), trei (într-un sistem binar), unsprezece (într-un sistem zecimal) sau altă valoare într-un sistem cu o anumită bază.
                          </p>
                           <p>
                            Mai scurt, un sistem de numerație este format din totalitatea regulilor de reprezentare a numerelor cu ajutorul unor simboluri numite cifre.
                           </p>                            
                              <p>În mod ideal, un sistem de numerație ar trebui:</p>
                            <p>
                              <ol class="list-group list-group-numbered">
                                <li class="list-group-item">să poată reprezenta numerele uzuale, întregi sau fracționare</li>
                                <li class="list-group-item">să reprezinte un număr într-un mod unic</li>
                                <li class="list-group-item">să reflecte structura aritmetică și algebrică a numerelor</li>
                              </ol>
                            </p>

                            <div class="row">
                              <div class="col-6">
                                <form>
                                  <div class="mb-3">
                                      <div class="row">
                                        <div class="col-6">
                                          <select class="form-control" id="fromN">
                                            <option value="decimal" selected="">Decimal</option>
                                          </select>
                                        </div>
                                        <div class="col-6">
                                          <select class="form-control" id="toN">
                                            <option value="binary"  selected="">Binary</option>
                                          </select>
                                        </div>
                                      </div>
                                  </div>
                                  <div class="input-group mb-3">
                                    <input type="text"  id="calcForm" class="form-control" placeholder="Enter octal number" aria-label="Enter octal number" aria-describedby="basic-addon2">
                                    <span class="input-group-text" id="basic-addon2">10</span>
                                  </div>
                                  <div class="mb-3">
                                    <button class="btn btn-success">Convert</button>
                                  </div>

                                  <div class="input-group mb-3">
                                    <textarea rows="2" id="y" class="form-control form-control-lg" readonly=""></textarea>
                                    <span class="input-group-text" id="basic-addon2">2</span>
                                  </div>

                                  <div class="input-group mb-3">
                                    <textarea rows="2" id="y2" class="form-control form-control-lg" readonly=""></textarea>
                                    <span class="input-group-text" id="basic-addon2">2</span>
                                  </div>

                                  <div class="input-group mb-3">
                                    <textarea rows="2" id="y5" class="form-control form-control-lg" readonly=""></textarea>
                                    <span class="input-group-text" id="basic-addon2">16</span>
                                  </div>

                                  <div>
                                    <div id="caldiv" class="form-group">
                                      <p>Decimal to binary calculation steps</p>
                                      <div id="cal" class="form-control"> 
                                    <p id="cal2dec"></p>
                                    <p>Divide by the base 2 to get the digits from the remainders:</p>
                                    <table id="cal2tbl" class="table">
                                    <thead>
                                    <tr>
                                    <th>Division<br>by 2</th>
                                    <th>Quotient</th>
                                    <th><p>Remainder</p>(Digit)</th>
                                    <th>Bit #</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                    </table>
                                    <p id="cal2result1"></p>
                                    <p id="cal2result2"></p
                                    </div>
                                  </div>
                                  </div>

                                </form>
                              </div>
                            </div>
                            

                            
                            
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>

  
    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="js/bignumber.min.js"></script>

    <script>
      const mobileScreen = window.matchMedia("(max-width: 990px )");
      $(document).ready(function () {
          $(".menu-toggle").click(function () {
              if (mobileScreen.matches) {
                  $(".dashboard-nav").toggleClass("mobile-show");
              } else {
                  $(".dashboard").toggleClass("dashboard-compact");
              }
          });
      });


      function decimal2base(dec, y, b) {
      var row;
      var y2=null;
      var tbl=document.getElementById("cal2tbl");
      var len=tbl.tBodies[0].rows.length;
      if( len ) {
         for(var i=0; i<len; i++)
            tbl.tBodies[0].deleteRow(0);
      }
      if( dec<0 ) dec=-dec;
      dec=dec.toString();
      y=y.toString().replace(/\s/g,'');
      var nd=y.indexOf(".");
      var ndigits=y.length-nd-1;
      if( ndigits>8 ) ndigits=8;
      var txt="";
      if( nd>=0 ) {
         txt="To avoid the decimal separator, multiply the decimal number with the base raised to the power of decimals in result:<br>";
         txt+=dec+"&times;"+b+"<sup>"+ndigits+"</sup> = ";
         dec=dec*Math.pow(b,ndigits);
         dec=Math.round(dec);
         txt+=dec;
      }
      document.getElementById("cal2dec").innerHTML=txt;
      for(var n=dec,k=0; n>=1; k++) {
         row = "<tr>";
         row+="<td>("+n+")/"+b+"</td>";
         row+="<td>"+Math.floor(n/b)+"</td>";
         row+="<td>"+(n%b).toFixed()+"</td>";
         row+="<td>"+k+"</td>";
         row+="</tr>";
         n = Math.floor(n/b);
         var r=tbl.tBodies[0].insertRow();
         r.innerHTML = row;
      }
      txt="";
      if( nd>=0 ) {
         y2=y.toString();
         var n=y2.length-y2.indexOf(".")-ndigits-1;
         y2=y2.substring(0,y2.length-n).replace(".","");
         txt = "= ("+y2+")<sub>"+b+"</sub> / "+b+"<sup>"+ndigits+"</sup>";
      }
      document.getElementById("cal2result1").innerHTML=txt;
      if( nd>=0 ) y=y.substring(0,y2.length+1);
      txt = "= ("+y+")<sub>"+b+"</sub>";
      document.getElementById("cal2result2").innerHTML=txt;
      document.getElementById("caldiv").style.display="block";
   }

      function str2num(s)
   {
      s=s.toString().trim().replace(/(\d)(\s+)(?=\d)/gm,"$1+").replace(/[^-()\d/*+.]/g, '');
      var ineg=s.indexOf("-");
      var isOp=/[+*\/]/.test(s);
      if( !isOp && ineg<1 ) return s;
      if( s=='' ) return 0;
      return Function('"use strict";return ('+s+')')();
   }

   function pad(n, width, z) {
		z = z || '0';
		n = n + '';
		return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
	}

   function digitgroup(x, n, d)
   {
      if( x=="N/A" ) return x;
      var x0=x.split(".")[0];
      var x1=x.split(".")[1];
      var y="";
      var x0head="";
      var re=new RegExp("(.{"+n+"})","g");
      if( x0!="" && x0!=undefined ) {
         if( x0[0]=="-" ) {
            y="-";
            x0=x0.substring(1,x0.length);
         }
         x0head = x0.substring(0,x0.length%n);
         y += x0head;
         x0 = x0.substring(x0.length%n,x0.length);
         //x0 = x0.replace(/(.{4})/g,"$1 ");
         x0 = x0.replace(re,"$1 ");
         x0 = x0.substring(0,x0.length-1);
         if( x0head!="" && x0!="" ) y+=d;
         y += x0;
      }
      if( x1!="" && x1!=undefined ) {
         y += ".";
         //y += x1.replace(/(.{4})/g,"$1 ");
         y += x1.replace(re,"$1 ");
      }
      return y;
   }

      $('button.btn').click(function() {
        var dec = str2num($('#calcForm').val());
		try {
			var x = new BigNumber(dec, 10);
      $('#calcForm').css({"background-color": "white"})
		}
		catch(err) {
      console.log(err);
      $('#calcForm').css({"background-color": "#fff0f0"})
			return;
		}
		var y = x.toString(2);
		var y5 = x.toString(16).toUpperCase();
		var t1 = new BigNumber("-8000000000000000",16);
		var t2 = new BigNumber("7FFFFFFFFFFFFFFF",16);
		var t3 = new BigNumber("10000000000000000",16);
		var y2 = new BigNumber(x, 10);
		if( x.isInteger() && x.gte(-32768) && x.lte(32767) ) {
			if( x.lessThan(0) ) y2 = x.plus("10000",16);
			y2 = pad(y2.toString(2).toUpperCase(), 16);
		}
		else if( x.isInteger() && x.gte(-2147483648) && x.lte(2147483647) ) {
			if( x.lessThan(0) ) y2 = x.plus("100000000",16);
			y2 = pad(y2.toString(2).toUpperCase(), 32);
		}
		else if( x.isInteger() && x.gte(t1) && x.lte(t2) ) {
			if( x.lessThan(0) ) y2 = x.plus(t3);
			y2 = pad(y2.toString(2).toUpperCase(), 64);
		}
		else {
			y2 = "N/A";
		}
      // if( document.getElementById('group').checked ) {
      //    y = digitgroup(y,8," ");
      //    y2 = digitgroup(y2,8," ");
      //    y5 = digitgroup(y5,4," ");
      // }
      decimal2base(dec,y,2);
		document.getElementById("y").value = y;
		document.getElementById("y2").value = y2;
		document.getElementById("y5").value = y5;

        $('#out1').val(x.toString(10))

        //document.getElementById("y").value = x.toString(10);
        //document.getElementById("y2").value = x.toString(16).toUpperCase();
        //document.getElementById("y3").value = txt;
      })



      //




    </script>

  </body>
</html>